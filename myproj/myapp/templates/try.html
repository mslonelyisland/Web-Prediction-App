<!-- FINAL -->
<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- <link rel="stylesheet" href="style_index.css"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  </head>
  <style>
    body {
      background: rgb(244, 244, 244);
      margin: 0;
    }
    #box {
      background: white;
      padding: 2%;
      margin: 5% 1% 1% 22%;
      box-shadow: 0px 0px 19px 5px #e6e5e5;
      border-radius: 20px;
    }
    #sidebar {
      background: rgb(37, 48, 69);
      padding: 20px;
      width: 15%;
      position: fixed;
      top: 0px;
      bottom: 0px;
      /* for borders */
      border-top-right-radius: 20px;
      border-bottom-right-radius: 20px;
    }
    #welcome {
      position: fixed;
      top: 0;
      margin-left: 22%;
    }
    .text {
      color: rgb(37, 48, 69);
    }
    li {
      list-style: none;
      font-size: 20px;
      color: white;
    }
    h1 {
      color: #17be9f;
    }
    .sidebtn_reg {
      padding: 7%;
      width: 111%;
      background: rgb(244, 244, 244);
      border-bottom-left-radius: 30px;
      border-top-left-radius: 30px;
    }
    .sidebtn_class {
      color: rgb(37, 48, 69); /* Ensures text color is white*/
    }
    .sidebtn_home {
      color: rgb(37, 48, 69); /* Ensures text color is white */
    }
    /* Style for all anchor tags inside .sidebtn_class */
    .sidebtn_reg a {
      color: rgb(37, 48, 69); /* Makes the text color  */
      text-decoration: none; /* Removes underline */
      font-weight: bold; /* Makes the font bold */
    }

    /* Optional: Change font family for a more aesthetic look */

    #toggleSidebarBtn {
      position: fixed;
      top: 10px;
      left: 10px;
      z-index: 1000;
    }
    /* Style for anchor tags inside the sidebar buttons */
    .sidebtn_reg a {
      display: inline-block;
      transition: transform 0.5s ease; /* Smooth transition for movement */
      /* padding: 7%; */
      text-decoration: none; /* Removes underline */
    }

    /* Hover effect */
    .sidebtn_reg a:hover {
      transform: translateX(10px); /* Moves text to the left on hover */
    }
    /* Style for Home and Regression buttons */
    .sidebtn_home a,
    .sidebtn_class a {
      color: white; /* Set text color to white */
      display: inline-block;
      transition: transform 0.3s ease; /* Smooth transition for movement */
      text-decoration: none; /* Removes underline */
    }

    /* Hover effect for Home and Regression buttons */
    .sidebtn_home a:hover,
    .sidebtn_class a:hover {
      transform: translateX(10px); /* Moves text to the left on hover */
      color: white; /* Keep text color white on hover */
    }

    /* This ensures that the text and icons are aligned horizontally inside the sidebar buttons */
    .sidebtn_class,
    .sidebtn_home,
    .sidebtn_reg {
      display: flex; /* Enables flexbox */
      align-items: center; /* Centers items vertically */
      justify-content: start; /* Aligns items to the start of the button */
      padding-left: 20px; /* Adjust left padding to align text */
      margin-bottom: 10px; /* Adds margin to the bottom of each button */
    }

    /* Adjusts the icon size and spacing to align with the text */
    .sidebtn_class .icon,
    .sidebtn_home .icon,
    .sidebtn_reg .icon {
      margin-right: 10px; /* Adds spacing between the icon and the text */
      width: 20px; /* Sets a fixed width for the icon */
      text-align: center; /* Ensures the icon is centered within its space */
    }

    /* Ensures the anchor tags fill the button space for better clickability */
    .sidebtn_class a,
    .sidebtn_home a,
    .sidebtn_reg a {
      width: 100%; /* Anchor tag should fill the button */
      display: flex; /* Enables flexbox */
      align-items: center; /* Centers text vertically */
      justify-content: flex-start; /* Aligns text to the start */
    }
    .testbutton {
      font-family: "times new roman";
      font-weight: bold;
      color: #ffffff !important;
      font-size: 14px;
      text-shadow: 0px 0px 0px #7cacde;
      box-shadow: 1px 1px 2px #eff0f0;
      padding: 10px 25px;
      border-radius: 15px;
      border: 0px solid #3866a3;
      background: #253045;
    }
    .testbutton:hover {
      color: #14396a !important;
      background: #17be9f;
    }
  </style>

  <body>
    <div class="container">
      <div id="welcome"><h1 class="text">Welcome, Weluna Rose!</h1></div>
      <div id="sidebar">
        <h1>
          Data <br />
          Visualization
        </h1>
        <div class="sidebtn_home" id="home">
          <a href="index/"><span class="icon"></span> Home</a>
        </div>
        <div class="sidebtn_class" id="classification">
          <a href="classification/"
            ><span class="icon"></span> Classification</a
          >
        </div>
        <div class="sidebtn_reg" id="regression">
          <a href="regression/"><span class="icon"></span> Regression</a>
        </div>
      </div>
      <div id="box">
        <h2>House Rent Prediction Form</h2>
        <form action="/predict_rent/" method="post" class="form">
          {% csrf_token %}


          <div class="col">\
            
             <label for="BHK" class="form-label"></label>BHK:</label><br />
             <input type="number" class="form-control" id="BHK" name="BHK" required /><br />
             </div>
          <div class="col">
             <label for="Size">Size (in sq ft):</label><br />
             <input type="number" class="form-control" id="Size" name="Size" required /><br />

            </div>
             <label for="Floor">Floor:</label><br />
             <input type="number" class="form-control" id="Floor" name="Floor" required /><br />

           <div class="col">
                <label for="Bathroom">Bathroom:</label><br />
                <input type="number" class="form-control" id="Bathroom" name="Bathroom" required /><br />

            </div>
            <div class="col">
                <label for="Area Locality">Area Locality:</label><br />
              <input type="text" class="form-control" id="Area Locality" name="Area Locality" required/><br />

            </div>            
            <div class="col">
                <label for="FurnishingStatus">Furnishing Status:</label><br />
          <select class="form-control" id="FurnishingStatus" name="FurnishingStatus" required>
            <option value="Furnished">Furnished</option>
            <option value="Semi-Furnished">Semi-Furnished</option>
            <option value="Unfurnished">Unfurnished</option></select
          ><br />

            </div>
            <div class="col">
                <label for="AreaType">Area Type:</label><br />
          <select class="form-control" id="AreaType" name="Area Type" required>
            <option value="Super Area">Super Area</option>
            <option value="Carpet Area">Carpet Area</option></select
          ><br />

            </div>
            <div class="col">
                <label for="City">City:</label><br />
          <select class="form-control" id="City" name="City" required>
            <option value="Delhi">Delhi</option>
            <option value="Chennai">Chennai</option>
            <option value="Hyderabad">Hyderabad</option>
            <option value="Bangalore">Bangalore</option>
            <option value="Mumbai">Mumbai</option>
            <option value="Kolkata">Kolkata</option></select
          ><br />

            </div>            
        
          <input type="submit" value="Predict Rent" class="testbutton" />
        </form>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Define your icons/symbols
        var icons = {
          home: "üè†", // Home icon
          classification: "üìä", // Classification icon
          regression: "üìà", // Regression icon
        };

        // Assign icons to buttons
        document
          .querySelectorAll(
            ".sidebtn_home .icon, .sidebtn_class .icon, .sidebtn_reg .icon"
          )
          .forEach(function (span) {
            var id = span.parentElement.parentElement.id; // Get the id of the parent div
            span.textContent = icons[id]; // Set the icon text
          });
      });

      $(document).ready(function () {
        // Function to make an AJAX call and update the prediction
        function updatePrediction() {
          $.ajax({
            type: "POST",
            url: "/predict_rent/", // URL to your Django view
            data: {
              BHK: $("#BHK").val(),
              Size: $("#Size").val(),
              // Add all other form fields
              csrfmiddlewaretoken: $("input[name=csrfmiddlewaretoken]").val(),
            },
            success: function (response) {
              // Update the prediction result in the HTML
              $("#predictionResult").text(
                "The predicted rent is: " + response.prediction
              );
            },
            error: function (error) {
              console.log(error);
            },
          });
        }

        // Attach the updatePrediction function to form fields' change events
        $("input, select").change(updatePrediction);
      });
    </script>
  </body>
</html>
